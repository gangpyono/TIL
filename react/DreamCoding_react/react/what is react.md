## 리액트란

### 정의

- 사용자에게 보여줄 웹 UI를 만드는 **라이브러리**이며, 이벤트를 처리하는 일을 할 수있다.
- 리액트는 컴포넌트들로 이루어진 라이브러리다.
- MVC패턴( model, view, controller ) 중 view레이어를 담당. ( MVC패턴이란, 디자인패턴중하나)
- 돔트리와같이 트리형식으로 구성된다(가상돔). (최상위 트리(root)가 App컴포넌트.)

### 장점

- 이전버전과의 호환성이 좋다.
- 배우는시간이 상대적으로 짧다.( vs 앵귤러)
- 기회비용이 좋다.
- 웹 어플리케이션 구현가능
- 모바일 어플리케이션 구현가능(리액트 네이티브를통해)
- 데스크탑 어플리케이션 구현가능(리액트 + 일렉트론을통해)
  <img width="700" height ="200" alt="스크린샷 2021-07-03 오후 10 00 08" src="https://user-images.githubusercontent.com/58588011/124355012-0be24180-dc4a-11eb-83c2-a62063436b83.png">
  <img width="700" height ="200" alt="Recat란" src="https://user-images.githubusercontent.com/58588011/119258310-15689a80-bc04-11eb-9535-034fba23a3da.png">

<br></br>
<br></br>

## VDOM

### 정의

- 말 그대로 가상의 돔트리로, 메모리에서 구현된것(컴포넌트들의 트리구조).

### 특징

- 리렌더링이 발생할떄 이전의VDOM과 비교하여 실질적으로 업데이트된부분만 실제 돔트리에 업데이트시킴.
  <img width="700" alt="스크린샷 2021-07-03 오후 10 33 56" src="https://user-images.githubusercontent.com/58588011/124355981-c2482580-dc4e-11eb-974d-705c9d882822.png">

- render함수가 많이 호출되어도(리렌더링이 많이 발생해도) 변동사항이 없으면, 실제 돔트리에는 반영이되지않아 성능면에서 크게 문제되지않는다. (또한 매번 바뀐것이 생길떄마다 업데이트를하는방식이아닌 업데이트를 하는 내용들을 모았다가 한번에 업데이트 시킴으로 성능이 보장된다.)
- 사용자가 부드럽게 웹어플리케이션을 이용할 수 있으려면 60fps를 유지해야하는데, 리액트는 이부분을 보장해준다. (60fps : 1초에 60개 프레임의 업데이트)
  <br></br>
  <br></br>

## 컴포넌트
### 정의
- 한가지 기능을 수행하는 UI단위 (ex - 버튼컴포넌트, 게시물 컴포넌트 등)

### 특징 
- 독립적이며 재사용이 가능하다. ( 테스팅이 유용하다.)
- 클래스 or 함수를통해 만들수 있다.
  <br></br>

### 종류
#### 1) 클래스형 컴포넌트

   <img width="700" alt="클래스컴포넌트" src="https://user-images.githubusercontent.com/58588011/119258588-4bf2e500-bc05-11eb-85c0-4cc66fb2dce0.png">
    <br></br>
    
   - 리액트에서 제공하는 컴포넌트 클래스를 상속해서 만들 수있음. 
   - 컴포넌트가 상태가존재하고 그 상태에따라 업데이트가 필요하다면 class컴포넌트 사용.
   - 데이터를 가지고있는 state 오브젝트 존재.
   - 사용자에게 어떻게 보여질지 정의하는 render함수 존재.
   - state가 변화할떄마다 render함수가 호출됨(렌더링 발생).
   - 최상위 컴포넌트안에서 state가변경되어 redner함수가 호출될시 render함수내에 또다른 컴포넌트가(자식컴포넌트) 존재한다면 이 컴포넌트들의 redner함수도 다시호출되어 렌더링 발생.
    - 계속 render함수가 호출이되어도 성능이 괜찮은 이유은, 리액트 내부에 가상의 VDOM이 존재하기 떄문.
    <br></br>

  #### 2) 함수형 컴포넌트

   <img width="292" alt="함수 컴포넌트" src="https://user-images.githubusercontent.com/58588011/120090674-4d5d6980-c13f-11eb-88b9-324e7bad4ed2.png">
   <br></br>
    
   - 컴포넌트에서 관리하는 상태가 없고 항상 정적으로 데이터가 표기된다면 함수 컴포넌트 사용.
   - 스테이트와 라이프사이클 메소드가 없음.
   - 그러나 리액트16.8버전부터는 리액트 훅이 도입되어 스테이트.라이프사이클 메소드를 사용할 수 있게됨.
   - 의문 : 굳이 왜 리액트훅을 사용해서 함수에서 스테이트,라이프사이클 메소드를 사용하려할까?

     -  공식문서에서 함수형을 더 권장한다.


     - 클래스가 다루기 어렵기떄문.
     
      - 그러나 훅 자체가 비교적 최근에 도입된 부분이기떄문에 클래스 컴포넌트로 만들어진경우가 많고,사용에있어 팀마다 호불호가 갈림.
    <br></br>

  ### 클래스 vs 함수 

   <img width="700" alt="class vs function" src="https://user-images.githubusercontent.com/58588011/119259146-d1779480-bc07-11eb-9edc-c5e00a37be52.png">
    <br></br>

  - 클래스형 컴포넌트는 맴버 변수들이 최초에 한번만 만들어지고 이후에 렌더링이 발생할 상황이면 render함수만 호출되면서 리렌더링이 발생하지만, 함수형 컴포넌트는 함수 자체임으로 렌더링이 발생할시 코드블록내의 모든 값들이 호출된다.(지역변수들의 선언이 반복된다.)

  #### 의문

  - 그렇다면 함수형 컴포넌트에서 useState로 state를관리할시 계속 초기값으로 초기화가 되야하지않나?

    - useState는 리액트훅으로써 제공되는 API로, 리액트에서 따로 메모리에 저장하여 관리한다.

    - useRef또한 렌더링될때마다 새로운 주소값을 반환하는것이아닌, 리액트에서 따로 메모리에 저장하여 관리한다.

    - 사용자가 만든 함수또한 메모리에저장하여 시킬수있다.(useCallback활용)

    - 함수를 props로 전달받을떄, usememo를활용하여도, 부모컴포넌트에서 함수가 계속해서 새로 생성되어 전달된다면, 리렌더링이 발생하는 사이드 이펙트가 발생할 수있다. (부모컴포넌트에서 useCallback훅을 이용하여 막을 수있다.)

<br></br>
<br></br>

## 라이프사이클

- 컴포넌트가 렌더링을 준비하는 순간부터, 페이지에서 사라질 떄까지를 의미.
- 돔트리에 올라갔을때(생성)
- 컴포넌트가 업데이트되었을때(업데이트)
  - props가 변경될떄
  - state가 변경될떄
  - 부모 컴포넌트가 업데이트 되었을 떄(리렌더링 됬을때)
  - 강제로 업데이트 했을경우 (forceUpdate()를통해 강제로 업데이트가 가능하다.)
- 돔트리에서 사라질떄(삭제)
  - 페이지를 이동했거나, 사용자의 행동(삭제 버튼 클릭 등)으로 인해 컴포넌트가 화면에서 사라질떄

### 라이프 사이클 메서드

- 클래스 컴포넌트에서만 제공.
- 리액트 16.8버전부터 React Hooks로 라이프 사이클 메서드를 대체할 수 있다.(==함수형 컴포넌트에서도 사용할 수 있게됨)
- componentDidMount : 돔트리에 올라갔을때(생성)
- componentDidUpdate : 컴포넌트가 업데이트되었을때(업데이트)
- componentWillUnmount : 돔트리에서 사라질떄(삭제)
- [추가적인 라이프사이클 메서드](https://ko.reactjs.org/docs/react-component.html) 
